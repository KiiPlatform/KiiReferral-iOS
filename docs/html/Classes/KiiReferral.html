<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>KiiReferral Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">KiiReferral </a></h1>
				<a id="developerHome" href="../index.html">Kii</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">KiiReferral Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/beginWithAppID:andKey:">&nbsp;&nbsp;&nbsp;&nbsp;+ beginWithAppID:andKey:</option>
	
	<option value="//api/name/facebookSessionChanged:state:error:">&nbsp;&nbsp;&nbsp;&nbsp;+ facebookSessionChanged:state:error:</option>
	
	<option value="//api/name/forceCheckConversion">&nbsp;&nbsp;&nbsp;&nbsp;+ forceCheckConversion</option>
	
	<option value="//api/name/forceConfigRefresh">&nbsp;&nbsp;&nbsp;&nbsp;+ forceConfigRefresh</option>
	
	<option value="//api/name/getUserTotals:completionBlock:">&nbsp;&nbsp;&nbsp;&nbsp;+ getUserTotals:completionBlock:</option>
	
	<option value="//api/name/setLogging:">&nbsp;&nbsp;&nbsp;&nbsp;+ setLogging:</option>
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Required">Required</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Debug/Testing Methods">Debug/Testing Methods</a></span></li>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginWithAppID:andKey:">beginWithAppID:andKey:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/facebookSessionChanged:state:error:">facebookSessionChanged:state:error:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/forceCheckConversion">forceCheckConversion</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/forceConfigRefresh">forceConfigRefresh</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getUserTotals:completionBlock:">getUserTotals:completionBlock:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setLogging:">setLogging:</a></span></li>
	
</ul></li>




			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="KiiReferral Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">KiiReferral Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">KiiReferral.h<br />KiiReferral.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The main class that helps drive KiiReferral</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Required" name="task_Required"></a>
						<h3 class="subsubtitle task-title">Required</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/beginWithAppID:andKey:">+&nbsp;beginWithAppID:andKey:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/facebookSessionChanged:state:error:">+&nbsp;facebookSessionChanged:state:error:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getUserTotals:completionBlock:">+&nbsp;getUserTotals:completionBlock:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Debug/Testing Methods" name="task_Debug/Testing Methods"></a>
						<h3 class="subsubtitle task-title">Debug/Testing Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/setLogging:">+&nbsp;setLogging:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/forceCheckConversion">+&nbsp;forceCheckConversion</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/forceConfigRefresh">+&nbsp;forceConfigRefresh</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/beginWithAppID:andKey:" title="beginWithAppID:andKey:"></a>
	<h3 class="subsubtitle method-title">beginWithAppID:andKey:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize the KiiReferral SDK</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)beginWithAppID:(NSString *)<em>appID</em> andKey:(NSString *)<em>appKey</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>appID</em></dt>
			<dd><p>Your Kii Application ID</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>appKey</em></dt>
			<dd><p>Your Kii Application Key</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Initialize the KiiReferral SDK</p>

<p>Should be called in your AppDelegate&rsquo;s application:didFinishLaunchingWithOptions: method after Kii and KiiAnalytic libraries are initialized.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/facebookSessionChanged:state:error:" title="facebookSessionChanged:state:error:"></a>
	<h3 class="subsubtitle method-title">facebookSessionChanged:state:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Handler for Facebook SDK</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)facebookSessionChanged:(FBSession *)<em>session</em> state:(FBSessionState)<em>state</em> error:(NSError *)<em>error</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>session</em></dt>
			<dd><p>The Facebook session passed in by the setStateChangeHandler block</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>state</em></dt>
			<dd><p>The Facebook session state passed in by the setStateChangeHandler block</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>The error passed in by the setStateChangeHandler block</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Handler for Facebook SDK</p>

<p>This method should be implemented in your AppDelegate as follows:</p>

<pre><code>- (BOOL)application:(UIApplication *)application
            openURL:(NSURL *)url
  sourceApplication:(NSString *)sourceApplication
         annotation:(id)annotation
{
    [FBSession.activeSession setStateChangeHandler:^(FBSession *session, FBSessionState state, NSError *error) {
        [KiiReferral facebookSessionChanged:session state:state error:error];
    }];

    return [FBAppCall handleOpenURL:url sourceApplication:sourceApplication];
}
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/forceCheckConversion" title="forceCheckConversion"></a>
	<h3 class="subsubtitle method-title">forceCheckConversion</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Check for a potential conversion</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)forceCheckConversion</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Check for a potential conversion</p>

<p>Usually, the SDK only checks for conversions on the first application launch. In development/testing mode, it may be beneficial to check for this on each launch to expedite testing. This method will override the default and check for a conversion on demand.  This should not be called in production.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/forceConfigRefresh" title="forceConfigRefresh"></a>
	<h3 class="subsubtitle method-title">forceConfigRefresh</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Load and store the latest referral configuration</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)forceConfigRefresh</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Load and store the latest referral configuration</p>

<p>Usually, the SDK only retrieves the configuration from the portal periodically. This method will override the default and get the latest configuration on demand. This is helpful for development mode when you are making changes in the dev portal and want to see the changes reflected on the client more quickly. This should not be called in production.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getUserTotals:completionBlock:" title="getUserTotals:completionBlock:"></a>
	<h3 class="subsubtitle method-title">getUserTotals:completionBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrieves the statistics for a given user</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)getUserTotals:(KiiUser *)<em>user</em> completionBlock:(KRStatisticCallback)<em>complete</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>user</em></dt>
			<dd><p>The user to retrieve statistics for</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>complete</em></dt>
			<dd><p>A block to be called when the request is completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Retrieves the statistics for a given user</p>

<p>This is an asynchronous method that makes a server request. It will pull statistics like # of shares, clicks, and conversions. This can be useful for reward systems and user tracking</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setLogging:" title="setLogging:"></a>
	<h3 class="subsubtitle method-title">setLogging:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Turn on/off debug logging</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)setLogging:(BOOL)<em>loggingOn</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>loggingOn</em></dt>
			<dd><p>TRUE if logging should be turned on, FALSE otherwise</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Turn on/off debug logging</p>

<p>Should only be used in development mode</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KiiReferral.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 Kii. All rights reserved. (Last updated: 2014-06-18)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>